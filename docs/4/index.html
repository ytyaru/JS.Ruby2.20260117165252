<!doctype html>
<html>
<head prefix="og: https://ogp.me/ns#">
<meta charset="utf-8">
<title>äºŒé‡ãƒ«ãƒ“ã€‚</title>
<meta name="description" content="äºŒé‡ãƒ«ãƒ“ã€‚">
<meta name="author" content="ytyaru">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.ja">
<link rel="icon" href="../asset/image/author/ytyaru.png">
<meta property="og:type" content="article">
<meta property="og:title" content="äºŒé‡ãƒ«ãƒ“ã€‚">
<meta property="og:description" content="äºŒé‡ãƒ«ãƒ“ã€‚">
<meta property="og:url" content="https://ytyaru.github.io/JS.Ruby2.20260117165252/index.html">
<meta property="og:site_name" content="GitHub Pages">
<!--<meta property="og:image" content="https://github.com/ytyaru/JS.Ruby2.20260117165252/blob/master/docs/asset/image/eye-catch.png?raw=true">-->
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="css/rbem.css">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!--
<script src="../lib/van/1.5.3/nomodule/min.js"></script>
<script src="../js/footer.js"></script>
<script src="../lib/util/type.js"></script>
<script src="../lib/util/test/assertion.js"></script>
-->
<script src="js/rbem.js"></script>
<script src="js/main.js"></script>
<style>
    body { font-family: sans-serif; padding: 1em; }
    .container { display: flex; flex-direction: column; gap: 1em; }
    textarea#source { font-family: monospace; font-size: 1rem; width: 100%; box-sizing: border-box; }
    table { border-collapse: collapse; width: 100%; table-layout: fixed; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: left; vertical-align: top; }
    th { background-color: #f2f2f2; }
    td:nth-child(1), td:nth-child(3) { word-break: break-all; }
    td:nth-child(2) { line-height: 4.5; font-size: 1.2rem; }
    td:nth-child(4) { width: 80px; text-align: center; vertical-align: middle; }
    input[type="text"] { width: 100%; box-sizing: border-box; border: 1px solid #ddd; padding: 4px; font-family: monospace; }
    button { cursor: pointer; }

</style>
</head>
<body>

  <div class="container">
    <h1>RbEm Parser Demo</h1>
    <div>
      <h2>å¤‰æ›å…ƒãƒ†ã‚­ã‚¹ãƒˆ</h2>
      <textarea id="source" rows="30">
<!-- ãƒ‘ã‚¤ãƒ—çœç•¥å½¢ -->
æ¼¢å­—ã€Šã‹ã‚“ã˜ã€‹
æ¼¢å­—ã€Šï½œã‹ã‚“ã˜ã€‹
æ¼¢å­—ã€Šã‹ã‚“ã˜ï½œã‚«ãƒ³ã‚¸ã€‹
è¶…é›»ç£ç ²ã€Šã¡ã‚‡ã†ã§ã‚“ã˜ã»ã†ï½œãƒ¬ãƒ¼ãƒ«ã‚¬ãƒ³ã€‹

<!-- ===== aè¦ç´  ===== -->
æ¼¢å­—ã€Šhttps://www.google.co.jp/ã€‹
æ¼¢å­—ã€Šï½œhttps://www.google.co.jp/ã€‹
æ¼¢å­—ã€Šhttps://www.google.co.jp/ï½œã€‹
æ¼¢å­—ã€Šï½œï½œhttps://www.google.co.jp/ã€‹
æ¼¢å­—ã€Šhttps://www.google.co.jp/ï½œï½œã€‹

<!-- ===== a in ruby ===== -->
æ¼¢å­—ã€Šã‹ã‚“ã˜ï½œã‚«ãƒ³ã‚¸ï½œhttps://www.google.co.jp/ã€‹
æ¼¢å­—ã€Šã‹ã‚“ã˜ï½œhttps://www.google.co.jp/ã€‹
æ¼¢å­—ã€Šï½œã‹ã‚“ã˜ï½œhttps://www.google.co.jp/ã€‹
æ¼¢å­—ã€Šhttps://www.google.co.jp/ï½œã‹ã‚“ã˜ã€‹
æ¼¢å­—ã€Šhttps://www.google.co.jp/ï½œï½œã‹ã‚“ã˜ã€‹
æ¼¢å­—ã€Šhttps://www.google.co.jp/ï½œã‹ã‚“ã˜ï½œã‚«ãƒ³ã‚¸ã€‹
æ¼¢å­—ã€Šã‹ã‚“ã˜ï½œhttps://www.google.co.jp/ï½œã‚«ãƒ³ã‚¸ã€‹

<!-- ãƒ‘ã‚¤ãƒ—ä»˜ä¸å½¢ -->
ï½œã‹ã‚“ã˜ã˜ã‚ƒãªã„ã€Šã‚«ãƒ³ã‚¸ã€‹
ï½œABCã€Šãˆãƒ¼ã³ãƒ¼ã—ãƒ¼ã€‹
ï½œé–“ã«éæ¼¢å­—ãŒã‚ã£ã¦ã‚‚OKã€Šã‚ã„ã ã«ã²ã‹ã‚“ã˜ãŒã‚ã£ã¦ã‚‚ãŠãƒ¼ã‘ãƒ¼ã€‹

<!-- ===== emè¦ç´  ===== -->
ã€Šã€Šå¼·èª¿ã€‹ã€‹

<!-- ===== ruby + em ===== -->
ã€Šã€Šå¼·èª¿ã€‹ã€‹ã€Šã†ãˆï½œã—ãŸï½œhttps://www.google.co.jp/ã€‹
ï½œã€Šã€Šå¼·èª¿ã€‹ã€‹ã€Šã†ãˆï½œã—ãŸï½œhttps://www.google.co.jp/ã€‹
ï½œè¦ªæ–‡å­—ã¾ãˆã€Šã€Šå¼·èª¿ã€‹ã€‹è¦ªæ–‡å­—ã†ã—ã‚ã€Šãƒ«ãƒ“ã†ãˆï½œãƒ«ãƒ“ã—ãŸï½œhttps://www.google.co.jp/ã€‹

<!-- ===== HTMLå¤‰æ›ã—ãªã„ï¼ˆåŸç¨¿ãƒ†ã‚­ã‚¹ãƒˆãã®ã¾ã¾å‡ºåŠ›ã™ã‚‹ï¼‰ ===== -->
æ¼¢å­—ã€Šã€‹
æ¼¢å­—ã€Š   ã€‹
ï½œã‹ã‚“ã˜ã˜ã‚ƒãªã„ã€Šã€‹
ã€Šã€Šã€‹ã€‹
ã€Šã€Š  ã€‹ã€‹

<!-- ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ï¼ˆHTMLè¦ç´ ã«å¤‰æ›ã—ãªã„ã“ã¨ï¼‰ -->
æ¼¢å­—\ã€Šã‹ã‚“ã˜ã€‹
\ï½œã‹ã‚“ã˜ã˜ã‚ƒãªã„ã€Šã‚«ãƒ³ã‚¸ã€‹
\ã€Šã€Šå¼·èª¿ã€‹ã€‹
ãƒãƒƒã‚¯ã‚¹ãƒ©ãƒƒã‚·ãƒ¥è‡ªä½“: \\ã€Šã€Šå¼·èª¿ã€‹ã€‹

<!-- ãƒ‘ã‚¤ãƒ—çœç•¥å½¢ã¨éæ¼¢å­—ã®æ··åœ¨ãƒ†ã‚¹ãƒˆ -->
ã“ã‚Œã¯æ¼¢å­—ã€Šã‹ã‚“ã˜ã€‹ã§ã™ã€‚
æ¼¢å­—ã€Šã‹ã‚“ã˜ã€‹ã§ã™ã€‚
ã“ã‚Œã¯æ¼¢å­—ã€Šã‹ã‚“ã˜ã€‹

<!-- ãƒ‘ã‚¤ãƒ—ä»˜ä¸å½¢ã§ãƒ‘ã‚¤ãƒ—çœç•¥å½¢ã‚’è¡¨ç¾ã§ãã‚‹ã“ã¨ -->
ãƒ‘ã‚¤ãƒ—ï½œä»˜ä¸ã€Šãµã‚ˆã€‹ã§ã™ã€‚
ãƒ‘ã‚¤ãƒ—çœç•¥ã€Šã—ã‚‡ã†ã‚Šã‚ƒãã€‹ã§ã™ã€‚

<!-- ãƒ‘ã‚¤ãƒ—çœç•¥å½¢ã¨ãƒ‘ã‚¤ãƒ—ä»˜ä¸å½¢ã¨éæ¼¢å­—ã®æ··åœ¨ãƒ†ã‚¹ãƒˆ -->
ã“ã‚Œã¯æ¼¢å­—ã€Šã‹ã‚“ã˜ã€‹ã§ã‚ã‚Šï½œMOJIã€Šã‚‚ã˜ã€‹ã§ã™ã€‚

<!-- ãƒ‘ã‚¤ãƒ—çœç•¥ã‹ã¤è¦ªæ–‡å­—ãŒéæ¼¢å­—ãªã‚‰HTMLå¤‰æ›ã•ã‚Œãªã„ã“ã¨ -->
MOJIã€Šã‚‚ã˜ã€‹

      </textarea>
      <button onclick="convert()" style="margin-top: 1em;">å¤‰æ›å®Ÿè¡Œ</button>
    </div>

    <div>
      <h2>å¤‰æ›çµæœ</h2>
      <table id="result-table">
        <thead>
          <tr>
            <th>åŸç¨¿</th>
            <th>è¡¨ç¤ºçµæœ</th>
            <th>HTMLæ–‡å­—åˆ—</th>
            <th>ğŸ“‹ã‚³ãƒ”ãƒ¼</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
    </div>
  </div>

  <script>
    function copyToClipboard(button, originalText, htmlText) {
      const textToCopy = `${originalText}\t${htmlText}`;
      // Clipboard API (ãƒ¢ãƒ€ãƒ³ãƒ–ãƒ©ã‚¦ã‚¶ã€httpsç’°å¢ƒ)
      if (navigator.clipboard && window.isSecureContext) {
        navigator.clipboard.writeText(textToCopy).then(() => {
          button.textContent = 'Copied!';
          setTimeout(() => { button.textContent = 'ğŸ“‹ã‚³ãƒ”ãƒ¼'; }, 2000);
        }).catch(err => {
          console.error('Clipboard API failed:', err);
          fallbackCopy(textToCopy, button);
        });
      } else {
        // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ (http, file:// ç’°å¢ƒ)
        fallbackCopy(textToCopy, button);
      }
    }

    function fallbackCopy(text, button) {
      const textArea = document.createElement('textarea');
      textArea.value = text;
      textArea.style.position = 'fixed';
      textArea.style.left = '-9999px';
      document.body.appendChild(textArea);
      textArea.focus();
      textArea.select();
      try {
        const successful = document.execCommand('copy');
        if (successful) {
          button.textContent = 'Copied!';
          setTimeout(() => { button.textContent = 'ğŸ“‹ã‚³ãƒ”ãƒ¼'; }, 2000);
        } else {
          alert('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚');
        }
      } catch (err) {
        alert('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚');
        console.error('Fallback copy failed:', err);
      }
      document.body.removeChild(textArea);
    }

    function convert() {
      const sourceText = document.getElementById('source').value;
      const lines = sourceText.split('\n');
      const tbody = document.querySelector('#result-table tbody');
      tbody.innerHTML = ''; // ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ã‚¯ãƒªã‚¢

      lines.forEach(line => {
        const originalText = line.trim();
        if (originalText === '' || originalText.startsWith('<!--')) {
          return; // ç©ºè¡Œã¨ã‚³ãƒ¡ãƒ³ãƒˆè¡Œã¯ã‚¹ã‚­ãƒƒãƒ—
        }

        const html = RbEm.parse(originalText);

        const tr = document.createElement('tr');
        
        // åŸç¨¿
        const tdOriginal = document.createElement('td');
        const inputOriginal = document.createElement('input');
        inputOriginal.type = 'text';
        inputOriginal.value = originalText;
        inputOriginal.readOnly = true;
        tdOriginal.appendChild(inputOriginal);
        
        // è¡¨ç¤ºçµæœ
        const tdResult = document.createElement('td');
        tdResult.innerHTML = html;

        // HTMLæ–‡å­—åˆ—
        const tdHtml = document.createElement('td');
        const inputHtml = document.createElement('input');
        inputHtml.type = 'text';
        inputHtml.value = html;
        inputHtml.readOnly = true;
        tdHtml.appendChild(inputHtml);

        // ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³
        const tdCopy = document.createElement('td');
        const copyButton = document.createElement('button');
        copyButton.textContent = 'ğŸ“‹ã‚³ãƒ”ãƒ¼';
        copyButton.onclick = () => copyToClipboard(copyButton, originalText, html);
        tdCopy.appendChild(copyButton);

        tr.append(tdOriginal, tdResult, tdHtml, tdCopy);
        tbody.appendChild(tr);
      });
    }
    // åˆæœŸè¡¨ç¤º
    convert();
  </script>

</body>
</html>
<!-- https://coliss.com/articles/build-websites/operation/work/html-template-for-web-apps-or-sites.html -->
<!-- https://coliss.com/articles/build-websites/operation/work/html5-template-for-2018.html -->
