#!/bin/bash
# --------------------------------------------------------------------------------
# 複数に分割されたソースコードを一つにまとめる。
# --------------------------------------------------------------------------------
# スクリプトが設置されているディレクトリに移動
cd "$(dirname "$0")"
# 出力先ディレクトリがなければ作成
mkdir -p ./dist
# bun buildコマンドを実行
# --entrypoints: ビルドの起点となるファイル
# --outdir: 出力先ディレクトリ
# --target: 'browser' または 'node' を指定 (今回はブラウザでの利用を想定)
bun build ./src/main.js --outdir ./dist --target browser
echo "Bundle complete: dist/bundle.js"

